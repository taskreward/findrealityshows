<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reward Dashboard</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f8f9fa;
      color: #333;
    }
    header {
      background-color: #007bff;
      color: white;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .menu {
      cursor: pointer;
      font-size: 24px;
    }
    .container {
      max-width: 600px;
      margin: 20px auto;
      padding: 10px;
    }
    .wallet-card {
      background-color: #fff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 20px;
      text-align: center;
    }
    .task-section {
      background-color: #fff;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .task {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
    }
    .btn {
      background-color: #28a745;
      border: none;
      color: white;
      padding: 6px 12px;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn[disabled] {
      background-color: #aaa;
      cursor: not-allowed;
    }
    .info {
      font-size: 14px;
      color: #666;
    }
    .progress-box {
      background-color: #e9ecef;
      padding: 10px;
      border-radius: 8px;
      font-size: 14px;
      text-align: center;
      margin-bottom: 20px;
    }
    .motivation {
      font-weight: bold;
      color: #007bff;
      font-size: 15px;
      text-align: center;
      margin: 10px 0;
    }
    .live-payouts {
      background-color: #fff;
      border-left: 4px solid #28a745;
      padding: 10px;
      border-radius: 5px;
      margin-top: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      font-size: 14px;
      animation: scrollUp 15s linear infinite;
      overflow: hidden;
      height: 20px;
    }
    @keyframes scrollUp {
      0% { transform: translateY(0); }
      100% { transform: translateY(-100%); }
    }
  </style>
</head>
<body>

<header>
  <div class="menu" onclick="alert('Sidebar menu coming in next step')">&#9776;</div>
  <div>Reward Dashboard</div>
</header>

<div class="container">
  <div class="wallet-card">
    <h2>üëã Welcome, <span id="usernameDisplay">User</span></h2>
    <p>üí∞ Wallet Balance: ‚Çπ<span id="wallet">0</span></p>
    <p>üèÜ Total Earnings: ‚Çπ<span id="totalEarnings">0</span></p>
  </div>

  <div class="progress-box">
    üßæ Daily Tasks: <span id="dailyProgress">0/6</span> | üìÜ Weekly Tasks: <span id="weeklyProgress">0/4</span>
  </div>

  <div class="motivation">üí° "Complete all 10 tasks daily and reach ‚Çπ2000 fast. Withdrawals are real and weekly!"</div>

  <div class="task-section">
    <h3>üìÖ Daily Tasks</h3>
    <div id="dailyTasks"></div>
  </div>

  <div class="task-section">
    <h3>üìÜ Weekly Tasks</h3>
    <div id="weeklyTasks"></div>
  </div>

  <div class="live-payouts" id="liveUpdates"></div>
</div>

<script>
const walletEl = document.getElementById('wallet');
const usernameEl = document.getElementById('usernameDisplay');
const totalEl = document.getElementById('totalEarnings');
const dailyProgress = document.getElementById('dailyProgress');
const weeklyProgress = document.getElementById('weeklyProgress');

const user = localStorage.getItem("current_user") || "demo";
usernameEl.innerText = user;

let wallet = parseInt(localStorage.getItem(`wallet_${user}`) || 0);
let totalEarned = parseInt(localStorage.getItem(`total_${user}`) || 0);
let log = JSON.parse(localStorage.getItem(`taskLog_${user}`) || '{}');

function updateUI() {
  walletEl.innerText = wallet;
  totalEl.innerText = totalEarned;

  let dailyDone = 0, weeklyDone = 0;
  for (let i = 1; i <= 6; i++) if (log[`d${i}`]) dailyDone++;
  for (let i = 1; i <= 4; i++) if (log[`w${i}`]) weeklyDone++;

  dailyProgress.innerText = `${dailyDone}/6`;
  weeklyProgress.innerText = `${weeklyDone}/4`;
}

function renderTasks() {
  const now = Date.now();
  const daily = [], weekly = [];

  for (let i = 1; i <= 6; i++) {
    const id = `d${i}`;
    const reward = Math.floor(Math.random() * 6) + 10;
    const lastTime = log[id] || 0;
    const locked = now - lastTime < 24 * 60 * 60 * 1000;
    daily.push(`<div class="task">
      <div>‚úÖ Daily Task ${i} - ‚Çπ${reward}</div>
      <button class="btn" onclick="startTask('${id}', ${reward})" ${locked ? 'disabled' : ''}>Start</button>
    </div>`);
  }

  for (let i = 1; i <= 4; i++) {
    const id = `w${i}`;
    const reward = 15;
    const lastTime = log[id] || 0;
    const locked = now - lastTime < 24 * 60 * 60 * 1000;
    weekly.push(`<div class="task">
      <div>üìò Weekly Task ${i} - ‚Çπ${reward}</div>
      <button class="btn" onclick="startTask('${id}', ${reward})" ${locked ? 'disabled' : ''}>Start</button>
    </div>`);
  }

  document.getElementById("dailyTasks").innerHTML = daily.join('');
  document.getElementById("weeklyTasks").innerHTML = weekly.join('');
}

function startTask(id, reward) {
  const url = `https://example.com/task${id}`;
  window.open(url, '_blank');
  alert("Task started. Please wait 2.5 minutes then return to get your reward.");
  setTimeout(() => {
    log[id] = Date.now();
    wallet += reward;
    totalEarned += reward;
    localStorage.setItem(`wallet_${user}`, wallet);
    localStorage.setItem(`total_${user}`, totalEarned);
    localStorage.setItem(`taskLog_${user}`, JSON.stringify(log));
    updateUI();
    renderTasks();
    alert(`‚Çπ${reward} has been added to your wallet.`);
  }, 150000);
}

function startLivePayouts() {
  const names = ["Priya", "Amit", "Kavita", "Raj", "Sneha", "Arjun"];
  const updates = [];
  for (let i = 0; i < 20; i++) {
    const name = names[Math.floor(Math.random() * names.length)];
    const amount = Math.floor(Math.random() * 2001) + 1000;
    updates.push(`üí∏ ${name} just withdrew ‚Çπ${amount} successfully!`);
  }
  document.getElementById("liveUpdates").innerText = updates.join(" \u2022 ");
}

updateUI();
renderTasks();
startLivePayouts();
</script>
</body>
</html>
